export function createConfig(c: PartialSiteConfig): SiteConfig {
	const ret: SiteConfig = {
		author: {
			name: c?.author?.name ?? "Test",
			email: c?.author?.email ?? "test@example.com",
		},
		blog: {
			hostname: c?.blog?.hostname ?? "example.com",
			title: c?.blog?.title ?? "Aki-SSG",
			description:
				c?.blog?.description ?? "Yet another site generated by Aki-SSG",
			favicon: c?.blog?.favicon ?? "/favicon.ico",
			begin_year: c?.blog?.begin_year ?? 2024,
		},
		style: {
			primary_color: c?.style?.primary_color ?? "#6db0ec",
			header_image: {
				default: "/header-image.jpg",
				dark: "/header-image-dark.jpg",
			},
		},
		comment: c?.comment ?? {
			type: "disable",
		},
		optimize: {
			gravatar_mirror:
				c?.optimize?.gravatar_mirror ?? "https://gravatar.com/avatar/",
			cdn_prefix: c?.optimize?.cdn_prefix,
			thumb_query: c?.optimize?.thumb_query,
			meme_base_url: c?.optimize?.meme_base_url,
		},
		follow: c?.follow,
	};
	if (c?.style?.header_image !== undefined) {
		if (typeof c.style.header_image === "string") {
			ret.style.header_image.default = c.style.header_image;
			ret.style.header_image.dark = c.style.header_image;
		} else {
			ret.style.header_image = c.style.header_image;
		}
	}
	return ret;
}
